(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{108:function(e,t,s){Promise.resolve().then(s.bind(s,4007))},4007:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var n=s(3827),r=s(4090),a=s(8371),i=s(3879),l=s(6651),o=s(3859),c=s(3428),d=s(632),u=s(8998),m=s(1783),h=s(8009),x=s(7907),p=e=>{let{onFileProcessed:t}=e,[s,i]=(0,r.useState)(!1),[p,f]=(0,r.useState)(0),[g,y]=(0,r.useState)(null),v=(0,x.useRouter)(),w=(0,r.useCallback)(e=>{let t=e[0];if(!t)return;if(!["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(t.type)){y("Only PDF and DOCX files are supported");return}i(!0),y(null),console.log("File Selected::",t);let s=new FormData;f(40),s.append("file",t),m.Z.post("http://localhost:5000/docs",s).then(e=>{var t;f(90),(null===(t=e.status)||void 0===t?void 0:t.toString().startsWith("2"))&&(f(100),h.ZP.success("Your document has been uploaded."),v.push("/documents"))}).catch(e=>{})},[t]),{getRootProps:b,getInputProps:j,isDragActive:N,isDragAccept:k,isDragReject:C}=(0,o.uI)({onDrop:w,accept:{"application/pdf":[".pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]},maxFiles:1,disabled:s});return(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full",children:(0,n.jsxs)("div",{...b(),className:"\n            border-2 border-dashed rounded-xl p-8 flex flex-col items-center justify-center cursor-pointer transition-colors\n            ".concat(N?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-primary-400 hover:bg-gray-50","\n            ").concat(k?"border-success-500 bg-success-50":"","\n            ").concat(C?"border-error-500 bg-error-50":"","\n            ").concat(s?"pointer-events-none":"","\n          "),children:[(0,n.jsx)("input",{...j()}),s?(0,n.jsxs)("div",{className:"w-full flex flex-col items-center",children:[(0,n.jsx)(c.Z,{className:"h-12 w-12 text-primary-500 mb-4"}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Uploading document..."}),(0,n.jsx)("div",{className:"w-full max-w-md h-2 bg-gray-200 rounded-full overflow-hidden mb-2",children:(0,n.jsx)("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:"".concat(p,"%")}})}),(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:[p,"% complete"]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Upload document"}),(0,n.jsx)("p",{className:"text-sm text-gray-500 text-center mb-4",children:"Drag and drop your PDF or DOCX file here, or click to browse"}),(0,n.jsx)(l.Z,{size:"sm",variant:"outline",children:"Select file"}),g&&(0,n.jsxs)("div",{className:"mt-4 flex items-center text-error-600",children:[(0,n.jsx)(u.Z,{className:"h-4 w-4 mr-1"}),(0,n.jsx)("p",{className:"text-sm",children:g})]})]})]})})})},f=()=>{let e=(0,x.useRouter)(),[t,s]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null);return(0,n.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,n.jsxs)(a.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[(0,n.jsx)(l.Z,{variant:"ghost",size:"sm",className:"mb-4",onClick:()=>e.back(),icon:(0,n.jsx)(i.Z,{className:"h-4 w-4"}),children:"Back"}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Upload Document"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Upload a PDF or DOCX file to create an AI lecture"})]}),t?(0,n.jsxs)(a.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"bg-white rounded-xl shadow-apple-sm p-8 text-center",children:[(0,n.jsx)("div",{className:"mb-6",children:(null==o?void 0:o.status)==="pending"?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"inline-block p-3 bg-warning-50 rounded-full mb-4",children:(0,n.jsx)("div",{className:"w-12 h-12 rounded-full border-4 border-warning-200 border-t-warning-500 animate-spin"})}),(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Processing document"}),(0,n.jsx)("p",{className:"text-gray-600",children:"We're analyzing your document and creating an interactive lecture. This may take a few minutes."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"inline-block p-3 bg-success-50 rounded-full mb-4",children:(0,n.jsx)("svg",{className:"w-12 h-12 text-success-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Document processed successfully!"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:"Your document has been transformed into an interactive lecture."}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[(0,n.jsx)(l.Z,{onClick:()=>e.push("/lecture/".concat(null==o?void 0:o._id)),children:"View Lecture"}),(0,n.jsx)(l.Z,{variant:"outline",onClick:()=>e.push("/documents"),children:"Back to Documents"})]})]})}),(null==o?void 0:o.status)==="pending"&&(0,n.jsx)("div",{className:"mt-8 flex justify-center",children:(0,n.jsx)(l.Z,{variant:"outline",onClick:()=>e.push("/documents"),children:"View All Documents"})})]}):(0,n.jsxs)(a.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,n.jsx)("div",{className:"bg-white rounded-xl shadow-apple-sm p-8 mb-8",children:(0,n.jsx)(p,{onFileProcessed:e=>{c(e),s(!0),setTimeout(()=>{e&&o&&c({...e,status:"success"})},3e3)}})}),(0,n.jsxs)("div",{className:"bg-primary-50 border border-primary-100 rounded-xl p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-primary-900 mb-2",children:"Tips for best results"}),(0,n.jsxs)("ul",{className:"space-y-2 text-primary-800",children:[(0,n.jsxs)("li",{className:"flex items-start",children:[(0,n.jsx)("span",{className:"text-primary-500 mr-2",children:"•"}),"Upload clear, well-formatted documents for optimal processing"]}),(0,n.jsxs)("li",{className:"flex items-start",children:[(0,n.jsx)("span",{className:"text-primary-500 mr-2",children:"•"}),"PDF files with selectable text work best"]}),(0,n.jsxs)("li",{className:"flex items-start",children:[(0,n.jsx)("span",{className:"text-primary-500 mr-2",children:"•"}),"Documents with headings and sections will create better structured lectures"]})]})]})]})]})}},6651:function(e,t,s){"use strict";var n=s(3827),r=s(4090),a=s(953);let i=(0,r.forwardRef)((e,t)=>{let{className:s,variant:r="primary",size:i="md",loading:l=!1,icon:o,children:c,disabled:d,...u}=e;return(0,n.jsxs)("button",{ref:t,className:(0,a.cn)("inline-flex items-center justify-center font-medium transition-colors rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2",{primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-secondary-600 text-white hover:bg-secondary-700 focus:ring-secondary-500",outline:"border border-gray-300 bg-transparent text-gray-800 hover:bg-gray-50 focus:ring-primary-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500",danger:"bg-error-600 text-white hover:bg-error-700 focus:ring-error-500"}[r],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[i],(d||l)&&"opacity-50 cursor-not-allowed pointer-events-none",s),disabled:d||l,...u,children:[l&&(0,n.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o&&!l&&(0,n.jsx)("span",{className:"mr-2",children:o}),c]})});i.displayName="Button",t.Z=i},1783:function(e,t,s){"use strict";var n=s(3107);function r(e){if((null==e?void 0:e.status)===401){window.location.assign("/auth/signin");return}return e}function a(e){return e instanceof FormData?{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}:{headers:{"Content-Type":"application/json"},withCredentials:!0}}async function i(e,t){try{let s=await n.Z.post(e,t,a(t));return r(s)}catch(e){var s;if((null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.status)===401){window.location.assign("/auth/signin");return}}}async function l(e,t){try{let s=await n.Z.put(e,t,a(t));return r(s)}catch(e){var s;if((null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.status)===401){window.location.assign("/auth/signin");return}}}async function o(e,t){try{let s=await n.Z.patch(e,t,a(t));return r(s)}catch(e){var s;if((null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.status)===401){window.location.assign("/auth/signin");return}}}async function c(e){try{let t=await n.Z.get(e,{withCredentials:!0});return console.log("lets see your status...",t.status),r(t)}catch(e){var t;if((null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status)===401){window.location.assign("/auth/signin");return}}}async function d(e){try{let t=await n.Z.delete(e,{withCredentials:!0});return r(t)}catch(e){var t;if((null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status)===401){window.location.assign("/auth/signin");return}}}async function u(e){try{let t=await n.Z.delete(e,{withCredentials:!0});return r(t)}catch(e){var t;if((null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.status)===401){window.location.assign("/auth/signin");return}}}t.Z={post:i,get:c,put:l,del:u,patch:o,drop:d}},953:function(e,t,s){"use strict";s.d(t,{cn:function(){return a},p6:function(){return l},sS:function(){return i}});var n=s(3167),r=s(1367);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,n.W)(t))}function i(e){if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e*=1024)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}function l(e){let t=new Date(e);return console.log("Provided date string:",{date:t,dateString:e}),new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(t)}}},function(e){e.O(0,[316,107,699,971,69,744],function(){return e(e.s=108)}),_N_E=e.O()}]);