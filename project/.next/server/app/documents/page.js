(()=>{var e={};e.id=479,e.ids=[479],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},5891:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=s(482),a=s(9108),o=s(2563),i=s.n(o),n=s(8300),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let c=["",{children:["documents",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9979)),"/home/horlarh/Desktop/ai-classroom/project/src/app/documents/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1342)),"/home/horlarh/Desktop/ai-classroom/project/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/home/horlarh/Desktop/ai-classroom/project/src/app/documents/page.tsx"],u="/documents/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/documents/page",pathname:"/documents",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1260:(e,t,s)=>{Promise.resolve().then(s.bind(s,4231))},6138:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6515:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]])},4231:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var r=s(5344),a=s(3729),o=s.n(a),i=s(7292),n=s(8428),l=s(7060),c=s(5545),d=s(6138),u=s(9224);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,u.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var x=s(4136),h=s(3380);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,u.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var g=s(7320),y=s(4034),f=s(6515),b=s(7121),j=s(5546),w=s(9956);let N=({document:e,onClick:t})=>r.jsx(i.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},whileHover:{y:-4},className:"w-full",children:(0,r.jsxs)(w.Zb,{hover:!0,className:"overflow-hidden h-full",onClick:()=>t(e),children:[e.thumbnail?(0,r.jsxs)("div",{className:"relative h-36 w-full overflow-hidden bg-gray-100",children:[r.jsx("img",{src:e.thumbnail,alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent text-white p-3",children:r.jsx("p",{className:"text-sm font-medium truncate",children:e.name})})]}):r.jsx("div",{className:"h-36 w-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:e?.name?.endsWith("pdf")?r.jsx(f.Z,{className:"h-10 w-10 text-error-500"}):r.jsx(b.Z,{className:"h-10 w-10 text-primary-500"})}),(0,r.jsxs)(w.aY,{children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-1 truncate",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500 mb-2",children:(0,j.p6)(e.createdAt)}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-500",children:(0,j.sS)(e.size)}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(()=>{switch(e.status){case"success":return r.jsx(l.Z,{className:"h-5 w-5 text-success-500"});case"pending":return r.jsx(c.Z,{className:"h-5 w-5 text-warning-500"});case"success":return r.jsx("div",{className:"h-5 w-5 rounded-full bg-error-500"});default:return null}})(),r.jsx("span",{className:"text-xs font-medium",children:(()=>{switch(e.status){case"success":return"Ready";case"pending":return"Processing";case"failed":return"Error";default:return""}})()})]})]})]})]})});var v=s(4130),Z=s(6548),C=s(8981);let P=()=>{let e=(0,n.useRouter)(),[t,s]=(0,a.useState)([]),[u,f]=(0,a.useState)(t),[b,j]=(0,a.useState)(!0),[P,k]=(0,a.useState)(null),[$,E]=(0,a.useState)(null),[q,D]=(0,a.useState)({show:!1,document:null});(0,C.C)(),(0,a.useEffect)(()=>{_()},[]);let _=async()=>{try{j(!0);let e=await Z.av.getAll();s(e),f(e)}catch(e){console.error("Error loading documents:",e),k("Failed to load documents")}finally{j(!1)}},S=t=>{"success"===t.status?e.push(`/classroom/${t._id}`):"pending"===t.status?D({show:!0,document:t}):"failed"===t.status&&D({show:!0,document:t})},T=()=>{D({show:!1,document:null})},F=t?.filter(e=>"success"===e.status).length,A=t?.filter(e=>"pending"===e.status).length,I=t?.filter(e=>"failed"===e.status).length,z=e=>{switch(e.status){case"success":return{icon:l.Z,text:"Ready for learning",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"};case"pending":return{icon:c.Z,text:"Processing - simulation not ready",color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"};case"failed":return{icon:d.Z,text:"Processing failed - simulation unavailable",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"};default:return{icon:m,text:"Status unknown",color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200"}}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white",children:[r.jsx(v.Z,{}),r.jsx("div",{className:"pt-20 pb-16",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsx("div",{className:"bg-primary-100 p-3 rounded-2xl",children:r.jsx(x.Z,{className:"h-8 w-8 text-primary-600"})})}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Document Library"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto mb-8",children:"Upload your documents and transform them into interactive learning experiences with AI-powered classroom simulations."}),r.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:r.jsx(y.Z,{size:"lg",onClick:()=>e.push("/upload"),icon:r.jsx(h.Z,{className:"h-5 w-5"}),className:"bg-gradient-to-r from-primary-600 to-accent-600 hover:from-primary-700 hover:to-accent-700 text-white shadow-lg px-8",children:"Upload New Document"})})]}),(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[(0,r.jsxs)(w.Zb,{className:"text-center p-6 border-0 shadow-apple-md",children:[r.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:t?.length}),r.jsx("div",{className:"text-gray-600",children:"Total Documents"})]}),(0,r.jsxs)(w.Zb,{className:"text-center p-6 border-0 shadow-apple-md",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:F}),r.jsx("div",{className:"text-gray-600",children:"Ready for Learning"})]}),(0,r.jsxs)(w.Zb,{className:"text-center p-6 border-0 shadow-apple-md",children:[r.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:A}),r.jsx("div",{className:"text-gray-600",children:"Processing"})]}),(0,r.jsxs)(w.Zb,{className:"text-center p-6 border-0 shadow-apple-md",children:[r.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:I}),r.jsx("div",{className:"text-gray-600",children:"Failed"})]})]}),b&&r.jsx("div",{className:"flex items-center justify-center py-16",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading your documents..."})]})}),P&&(0,r.jsxs)(i.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-error-50 border border-error-200 rounded-xl p-6 text-center mb-8",children:[r.jsx(d.Z,{className:"h-12 w-12 text-error-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-error-900 mb-2",children:"Something went wrong"}),r.jsx("p",{className:"text-error-700 mb-4",children:P}),r.jsx(y.Z,{onClick:_,variant:"outline",size:"sm",className:"border-error-300 text-error-700 hover:bg-error-50",children:"Try Again"})]}),(0,r.jsxs)("div",{className:"flex items-center border border-gray-200 hover:border-gray-300 focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-100 my-4 rounded-lg max-w-[400px] transition-all duration-200",children:[r.jsx("input",{className:"flex-1 text-sm text-gray-700 placeholder-gray-400 outline-none bg-transparent px-3 py-2.5",placeholder:"Search documents...",onChange:e=>{let s=RegExp(`${e.target.value}`,"ig");f(t?.filter(e=>s.test(e.name)))}}),r.jsx("button",{className:"p-2.5 bg-gray-100 hover:bg-gray-200 rounded-r-lg transition-colors duration-200 border-l border-gray-200",children:r.jsx(p,{size:18,className:"text-gray-600"})})]}),!b&&!P&&r.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:t?.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map((e,t)=>(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1*t},className:"relative",onMouseEnter:()=>"success"!==e.status&&E(e._id),onMouseLeave:()=>E(null),children:[(0,r.jsxs)("div",{className:`relative ${"success"!==e.status?"cursor-not-allowed":""}`,children:[r.jsx(N,{document:e,onClick:S}),"success"!==e.status&&r.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-xl flex items-center justify-center",children:(0,r.jsxs)("div",{className:`${z(e).bgColor} ${z(e).borderColor} border rounded-lg p-3 shadow-lg`,children:[o().createElement(z(e).icon,{className:`h-6 w-6 ${z(e).color} mx-auto mb-2`}),r.jsx("p",{className:`text-sm font-medium ${z(e).color} text-center`,children:"pending"===e.status?"Processing...":"Failed"})]})})]}),$===e._id&&"success"!==e.status&&r.jsx(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 z-10",children:(0,r.jsxs)("div",{className:`${z(e).bgColor} ${z(e).borderColor} border rounded-lg p-3 shadow-lg max-w-xs`,children:[(0,r.jsxs)("div",{className:"flex items-start space-x-2",children:[o().createElement(z(e).icon,{className:`h-4 w-4 ${z(e).color} mt-0.5 flex-shrink-0`}),r.jsx("p",{className:`text-sm ${z(e).color}`,children:z(e).text})]}),r.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${z(e).borderColor.replace("border-","border-t-")}`})]})})]},e._id))}):r.jsx(w.Zb,{className:"border-0 shadow-apple-lg",children:(0,r.jsxs)(w.aY,{className:"p-12 text-center",children:[r.jsx("div",{className:"bg-primary-50 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(x.Z,{className:"h-10 w-10 text-primary-600"})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No documents yet"}),r.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Upload your first document to get started with AI-powered learning experiences. Transform any PDF or DOCX into an interactive classroom simulation."}),r.jsx(y.Z,{size:"lg",onClick:()=>e.push("/upload"),icon:r.jsx(h.Z,{className:"h-5 w-5"}),className:"bg-gradient-to-r from-primary-600 to-accent-600 hover:from-primary-700 hover:to-accent-700",children:"Upload Your First Document"})]})})})]})}),q.show&&q.document&&r.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:T,children:r.jsx(i.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-apple-lg max-w-md w-full p-6",onClick:e=>e.stopPropagation(),children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:`w-16 h-16 ${z(q.document).bgColor} rounded-2xl flex items-center justify-center mx-auto mb-4`,children:o().createElement(z(q.document).icon,{className:`h-8 w-8 ${z(q.document).color}`})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"pending"===q.document.status?"Document Processing":"Processing Failed"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"pending"===q.document.status?"This document is still being processed. The AI simulation is not ready yet. Please check back in a few minutes.":"The AI simulation for this document failed to generate. You can try uploading the document again or contact support if the issue persists."}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsx(y.Z,{variant:"outline",onClick:T,className:"flex-1",children:"Close"}),"failed"===q.document.status&&r.jsx(y.Z,{onClick:()=>{T(),e.push("/upload")},className:"flex-1",icon:r.jsx(h.Z,{className:"h-4 w-4"}),children:"Upload Again"}),"pending"===q.document.status&&r.jsx(y.Z,{onClick:()=>{T(),_()},className:"flex-1",icon:r.jsx(g.Z,{className:"h-4 w-4"}),children:"Refresh"})]})]})})})]})}},6548:(e,t,s)=>{"use strict";s.d(t,{av:()=>n});var r=s(4669),a=s(4675);let o=process.env.NEXT_PUBLIC_API_URL||"http://localhost:5000",i={get:async e=>{let t=await fetch(`${o}${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error(`API Error: ${t.statusText}`);return t.json()},post:async(e,t)=>{let s=await fetch(`${o}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0});if(!s.ok)throw Error(`API Error: ${s.statusText}`);return s.json()},postFormData:async(e,t)=>{let s=await fetch(`${o}${e}`,{method:"POST",body:t});if(!s.ok)throw Error(`API Error: ${s.statusText}`);return s.json()},delete:async e=>{let t=await fetch(`${o}${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error(`API Error: ${t.statusText}`);return t.json()}},n={getAll:async()=>{try{let e=await a.Z.get("http://localhost:5000/docs");if(200==e.status)return e.data}catch(e){r.ZP.error(e?.response?.data?.message??"Failed to fetch documents")}},getById:e=>i.get(`/documents/${e}`),getContent:e=>i.get(`/documents/${e}/content`),upload:e=>{let t=new FormData;return t.append("file",e),i.postFormData("/documents/upload",t)},delete:e=>i.delete(`/documents/${e}`),getChapters:async e=>{try{let t=await a.Z.get(`http://localhost:5000/docs/${e}/chapters`);if(t.status.toString().startsWith("2"))return t.data;r.ZP.error(t?.data?.message??"Failed to fetch chapters")}catch(e){r.ZP.error(e?.response?.data?.message??"Failed to fetch chapters")}},getSections:async(e,t)=>{try{let s=await a.Z.get(`http://localhost:5000/docs/${e}/chapters/${t}`);if(s.status.toString().startsWith("2"))return s.data;r.ZP.error(s?.data?.message??"Failed to fetch Sections")}catch(e){r.ZP.error(e?.response?.data?.message??"Failed to fetch chapters")}},getDiscussions:async(e,t)=>{try{let s=await a.Z.get(`http://localhost:5000/docs/${e}/chapters/${t}/discussions`);if(s.status.toString().startsWith("2"))return s.data;r.ZP.error(s?.data?.message??"Failed to fetch Discussion")}catch(e){r.ZP.error(e?.response?.data?.message??"Failed to fetch Discussion")}},createDiscussion:async(e,t)=>{try{let s=await a.Z.post(`http://localhost:5000/docs/${e}/chapters/${t}/discussions`,{});if(s.status.toString().startsWith("2"))return s.data;r.ZP.error(s?.data?.message??"Failed to create Discussion")}catch(e){r.ZP.error(e?.response?.data?.message??"Failed to create Discussion")}}}},4675:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(7665);function a(e){if(e?.status===401){window.location.assign("/auth/signin");return}return e}function o(e){return e instanceof FormData?{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}:{headers:{"Content-Type":"application/json"},withCredentials:!0}}let i={post:async function(e,t){try{let s=await r.Z.post(e,t,o(t));return a(s)}catch(e){if(e?.response?.status===401){window.location.assign("/auth/signin");return}}},get:async function(e){try{let t=await r.Z.get(e,{withCredentials:!0});return console.log("lets see your status...",t.status),a(t)}catch(e){if(e?.response?.status===401){window.location.assign("/auth/signin");return}}},put:async function(e,t){try{let s=await r.Z.put(e,t,o(t));return a(s)}catch(e){if(e?.response?.status===401){window.location.assign("/auth/signin");return}}},del:async function(e){try{let t=await r.Z.delete(e,{withCredentials:!0});return a(t)}catch(e){if(e?.response?.status===401){window.location.assign("/auth/signin");return}}},patch:async function(e,t){try{let s=await r.Z.patch(e,t,o(t));return a(s)}catch(e){if(e?.response?.status===401){window.location.assign("/auth/signin");return}}},drop:async function(e){try{let t=await r.Z.delete(e,{withCredentials:!0});return a(t)}catch(e){if(e?.response?.status===401){window.location.assign("/auth/signin");return}}}}},9979:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(5036);let a=(0,s(6843).createProxy)(String.raw`/home/horlarh/Desktop/ai-classroom/project/src/components/DocumentsPage.tsx`),{__esModule:o,$$typeof:i}=a,n=a.default;function l(){return r.jsx(n,{})}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[22,909,665,477],()=>s(5891));module.exports=r})();